# Image Denoising Project

이 프로젝트는 노이즈가 낀 이미지의 노이즈 제거를 목표로 다양한 필터를 시도하고 그 성능을 평가하는 것을 목적으로 합니다. 주요 필터로는 평균값 필터, 가우시안 필터, 메디안 필터, 메디안 혼성 필터, 비지역평균 필터 등이 사용되었습니다. 또한, 필터의 합성 실험을 통해 성능 개선을 시도하였습니다.

## 프로젝트 구조

- `filters/`
  - `gaussian.py`: 가우시안 필터 구현
  - `hybrid_median.py`: 메디안 혼성 필터 구현
  - `mean.py`: 평균값 필터 구현
  - `median.py`: 메디안 필터 구현
  - `non_local_mean.py`: 비지역평균 필터 구현
- `Main.py`: 각 필터를 이미지에 적용하고 결과를 출력하는 메인 스크립트
- `README.md`: 프로젝트에 대한 설명 파일

## 필터 소개

### 1. 평균값 필터 (Mean Filter)
평균값 필터는 주변 화소들의 평균값을 사용하여 이미지를 흐림 처리하여 노이즈를 제거하는 필터입니다. 이 필터는 필터 크기 21에서 가장 높은 PSNR 값을 보였지만, 경계 정보가 흐려지는 단점이 있습니다.

### 2. 가우시안 필터 (Gaussian Filter)
가우시안 필터는 평균값 필터의 개선된 버전으로, 가우시안 함수 형태의 가중치를 부여하여 멀리 있는 화소의 영향을 줄이고 가까운 화소의 영향을 높입니다. 필터 크기 11에서 최대 PSNR 값을 얻었지만, 큰 성능 차이는 없었습니다.

### 3. 메디안 필터 (Median Filter)
메디안 필터는 주변 화소들의 중앙값을 사용하여 잡음을 제거합니다. 필터 크기 13에서 가장 높은 PSNR 값을 얻었지만, 경계 정보가 손실되는 문제가 있었습니다.

### 4. 메디안 혼성 필터 (Hybrid Median Filter)
메디안 혼성 필터는 경계 부분의 정보를 보존하기 위해 붉은색 부분과 푸른색 부분의 중앙값을 따로 구하고 그 중앙값의 중앙값을 구하는 방식입니다. 그러나 구현상의 문제로 인해 PSNR 값이 일반 메디안보다 낮게 나왔습니다.

### 5. 비지역평균 필터 (Non-Local Means Filter)
비지역평균 필터는 두 개의 패치 속 픽셀들 간의 유사도를 비교하여 가중치를 주어 평균을 내는 필터입니다. 다른 필터보다 우수한 PSNR 값을 보였지만, 실행 시간이 오래 걸리는 단점이 있습니다.

## 필터의 합성

### 1. 메디안 필터 + 라플라시안 필터
메디안 필터의 경계 선명도 문제를 보완하기 위해 라플라시안 필터와 함께 사용해 보았습니다. 하지만 성능 향상을 이루지는 못했습니다.

### 2. 메디안 필터 + 비지역평균 필터
메디안 필터와 비지역 평균 필터를 결합한 경우가 최적으로 성능이 나타났습니다. 메디안 필터 크기 3, 비지역 평균 필터 윈도우 사이즈 20, 패치 사이즈 2, 시그마 값 5에서 최대 PSNR 값을 얻었습니다.

## 결론
위의 결과들을 바탕으로 메디안 필터와 비지역 평균 필터를 같이 사용하는 것이 가장 높은 PSNR 값을 가진다고 보았습니다. 이는 노이즈 제거가 잘 되었고 경계 흐려짐도 많이 개선되었습니다.

## 참고문헌
1. Stan Birchfield, "영상처리 및 분석," 도서출판 홍릉(홍릉과학출판사)
2. 다양한 필터 및 노이즈에 대한 정보: [Cubox - 필터](https://www.cubox.ai/board/research/board_view.php?&page=1&num=46)
3. 하이퍼 메디안 필터: [Naver Blog](https://blog.naver.com/bsh0128/80153362806)
